\documentclass[a4paper,12pt,titlepage,finall]{article}

\usepackage[english,russian]{babel}
\usepackage{geometry}
\usepackage{cmap}
\usepackage{amsmath}

\geometry{a4paper,left=30mm,top=30mm,bottom=30mm,right=30mm}

\begin{document}

\begin{titlepage}
    \begin{center}
    {\small \sc Московский государственный университет \\имени М.~В.~Ломоносова\\
    Факультет вычислительной математики и кибернетики\\Кафедра математической кибернетики\\}
    \vfill
    {\Large \sc Отчет по преддипломной практике}\\
    ~\\
    {\large \bf <<Программная реализация поиска минимальных обобщенных полиномов в векторном пространстве>>}\\
    ~\\
    \end{center}
    \begin{flushright}
    \vfill {Выполнил:\\
    студент 418 группы\\
    Королёв~Ф.~И.\\
    ~\\
    Научный руководитель:\\
    к.ф.-м.н. Бухман~А.~В.}
    \end{flushright}
    \begin{center}
    \vfill
    {\small Москва\\2022}
    \end{center}
\end{titlepage}

\tableofcontents
\newpage

\section{Введение}

\subsubsection*{Минимизация обобщенных полиномов}

Задача минимизации обобщенных полиномов является активной областью исследований благодаря преимуществам, которыми обладают обобщенные полиномы в сравнении с ДНФ. К ним относятся:
\begin{itemize}
    \item отличные свойства тестируемости~\cite{exorcism4}
    \item экспериментально наблюдаемые меньшие размеры выражения
    \item асимптотически лучшая верхняя оценка на количество конъюнктов ($ 29 \cdot 2^{n - 7}, \ n > 6 $~\cite{bound} против $ 2^{n - 1} $ для ДНФ)
\end{itemize}

В задаче нахождения точного минимума обобщенных полиномов до сих пор не найдено эффективного решения для булевых функций более шести переменных в общем случае~\cite{exact}, поэтому особый интерес представляет эвристический подход к минимизации обобщенных полиномов.

Также, помимо рассмотрения самих алгоритмов, интересны способы их тестирования и сравнения. Большинство статей~\cite{exmin2}~\cite{mint}~\cite{exorcism4}, предлагающих эвристические подходы к решению данной задачи, содержат в себе раздел, посвященный результатам экспериментов, в котором используется много функций из бенчмарка LGSynth~\cite{benchmark}.

В рамках данной работы продолжает исследоваться дискретный аналог покоординатного спуска с прибавлением нулевых обобщенных полиномов к исходному.

\subsubsection*{Метод прибавления нулевых полиномов}

Задан исходный обобщенный полином в виде $ \bigoplus\limits_i K_i $, где $ K_i $ --- элементарные конъюнкции.

Генерация базиса нулевых обобщенных полиномов происходит следующим образом: представим себе элементарную конъюнкцию из $ n $ множителей. На позиции i-того литерала выставим один из трех элементов множества $ \{ 0, 1, x_i \} $. Очевидно, что конъюнкция тождественно равна 0 тогда и только тогда, когда на месте хотя бы одного литерала выставлен 0. Пусть на места всех $ n $ литералов выставлены элементы описанного множества, при этом хотя бы один из них равен 0, тогда в силу дистрибутивности конъюнкции относительно исключающего или можно раскрыть скобки и получить выражение являющееся, в силу тождественного равенства нулю, нулевым обобщенным полиномом. Весь базис нулевых полиномов, построенный на множестве $ \{ 0, 1, x_i \} $ будет состоять из $ 3^n $ (всех вариантов расстановки элементов множества на $ n $ позиций) минус $ 2^n $ (всех вариантов расстановки элементов $ \{ 1, x_i \} $ на $ n $ позиций, поскольку выставив исключительно элементы данного подмножества на места литералов выражение не будет удовлетворять необходимому условию тождественного равенства 0). Итого, мощность базиса $ \left| B \right| = 3^n - 2^n. $

После генерации базиса нулевых обобщенных полиномов его элементы по некоторой стратегии прибавляются к исходному обобщенному полиному. В силу тождественного равенства нулю всех элементов базиса функция, задаваемая выражением до прибавления, совпадает с функцией, задаваемой результатом сложения (поскольку $ a \oplus 0 \equiv a $). В рамках отдельной итерации прибавления возможны сокращения вида $ a \oplus a \equiv 0 $, которые приведут к уменьшению длины (количества конъюнктов в выражении) выражения.

Алгоритм возвращает сокращенный обобщенный полином в виде $ \bigoplus\limits_i K_i $.

\subsubsection*{Возможные улучшения метода}

\begin{enumerate}
    \item Построение базиса на множестве $ \{ 0, 1, x_i, \overline{x_i} \} $, что увеличит количество элементов до $ 4^n - 3^n $ (рассуждения из выведения оценки для базиса, построенного на множестве $ \{ 0, 1, x_i \} $, повторяются). Это негативно скажется на времени работы программы, но также может дать улучшение финальных результатов (получение более коротких полиномов).
    \item Изменение стратегии обхода элементов базиса в попытках сократить полином. Может привести к другому, потенциально лучшему, результату.
    \item Прибавление пар элементов базиса. Пара элементов может частично сократиться друг с другом, после чего результат может сократить исходный полином.
\end{enumerate}

\section{Постановка задачи}

Представить примеры используемых в научной литературе методов минимизации обобщенных полиномов, а так же типичный набор тестов для их сравнения между собой.

Проанализировать предложенный метод следующими критериями:
\begin{itemize}
    \item существование не оптимизирующихся полиномов, которые могут быть записаны в более коротком виде
    \item возможность улучшить результат путем прибавления пар элементов базиса
    \item возможность улучшить результат путем расширения базиса нулевых полиномов
    \item возможность улучшить результат путем пробы разных стратегий прибавления элементов базиса
\end{itemize}

\section{Полученные результаты}

\subsection{Обзорная часть}

\subsubsection*{Некоторые опубликованные эвристические подходы}

В 1993 году Цутому Сасао представил алгоритм, названный {\sc EXMIN2}~\cite{exmin2}.
В статье описаны 10 правил преобразования (с иллюстрациями на карте Карно), которые задействуются в дальнейшем. Идея алгоритма в следующем:
\begin{itemize}
    \item конвертировать исходный ДНФ в непересекающуюся ДНФ (disjoint sum-of-products)
    \item multi-output функции декомпозировать в набор single-output функций, после чего работать над минимизацией каждой из них
    \item используя правила преобразования, уменьшить полином до тех пор, пока это итеративно улучшает результат
\end{itemize}

Некоторые исследователи ссылаются на работу 1996 года Томаша Козловского с описанным алгоритмом минимизации обобщенных полиномов {\sc MINT}~\cite{mint}. К сожалению, его оригинальный труд найти не удалось. Рассмотренный далее {\sc EXORCISM4} в среднем работает быстрее {\sc MINT} в 25 раз (на 25 бенчмарках~\cite{exorcism4}, среди которых алгоритм Козловского вырвался вперед по быстродействию и результатам минимизации только на функции \texttt{rd84}~\cite{benchmark}).

В 1996 Дебатош Дебнатх и Цутому Сасао публикуют GRMIN2~\cite{grmin2}.
Он, по аналогии с {\sc EXMIN2} использует правила преобразования, всего их 8. Алгоритм в первую очередь минимизирует длину полинома, а также второстепенно --- количество литералов в выражении. Сам алгоритм имеет следующие основные пункты:
\begin{itemize}
    \item из данного ДНФ генерируются DSOP (disjoint Sum-Of-Products)~\cite{exmin2} и PSDRM (pseudo Reed-Muller form)~\cite{psdrm}. Опционально выбирается один из них (например полином с наименьшей длиной) или на вход алгоритму подаются оба полинома и выбирается лучший из оптимизированных
    \item далее полином проходит минимизацию в двух этапах по правилам сокращения до тех пор, пока его удается сократить
    \item затем длину полинома временно увеличивают, возвращаясь к этапам минимизации. Это необходимо, поскольку доказано, что множество правил, не имеющих ни одного "удлиняющего", может не иметь траектории применения до точного минимума функции в представлении обобщенных полиномов~\cite{convergence}. Шаг продолжается до тех пор, пока удается сокращать полином
    \item запускается финальный цикл, применяющий свое подмножество правил сокращения, снова до тех пор, пока сокращения удаются
\end{itemize}

В 2001 выпущена статья Алана Мищенко и Марека Перковски с уже четвертой версией алгоритма {\sc EXORCISM4}~\cite{exorcism4}.
В методе {\sc EXORCISM} описаны операции xlinks (читается crosslinks), применяемые к парам конъюнктов, основные этапы звучат таким образом:
\begin{itemize}
    \item алгоритм принимает на вход булеву функцию в виде multi-output непересекающихся (в покрытии) кубов
    \item применить всевозможные primary xlinks с приоритетом у наиболее близких пар (по расстоянию Хэмминга)
    \item применить всевозможные secondary xlinks аналогичным способом
    \item если удалось применить хотя бы один secondary xlink, то вернуться к этапу с primary links
\end{itemize}
Замечанием к алгоритму служит следующий приоритет: при любом xlinking-е при прочих равных выбирается пара, применяемая к конъюнктам, содержащим большее количество литералов (в статье это называется степенью конъюнкта). Улучшения в {\sc EXORCISM4} коснулись вычисления начального покрытия, увеличение пространства поиска с помощью применения большего числа трансформаций. Преимуществом является быстродействие и хороший (в сравнении с другими алгоритмами~\cite{exmin2}~\cite{mint}) результат сокращения.

В 2008 публикуют алгоритм минимизации обобщенных полиномов min-tau2~\cite{min-tau2} Японские ученые.
Особенность алгоритма в том, что его наивная реализация подразумевает полный перебор комбинаций конъюнктов, что гарантирует нахождения оптимального решения, но при этом является крайне трудоемкой. Однако с помощью представленные в~\cite{min-tau} теоремы позволяют значительно сократить время работы алгоритма \texttt{min-tau}, что дает возможность находить решения для функций от 6 переменных на практике. \texttt{min-tau2} же, в свою очередь ускоряет процедуру поиска, что являлось узким местом ориинального алгоритма. Метод находит точный минимум большого количества бенчмарк-функций.

\subsubsection*{Часто встречаемые бенчмарки}

В подавляющем большинстве статей, посвященных эвристическим методам минимизации обобщенных полиномов, фигурируют следующие функции для сравнения алгоритмов:
\begin{itemize}
    \item single-output функции из бенчмарка LGSynth
    \item multi-output функции из бенчмарка LGSynth
    \item multi-output арифметические функции
\end{itemize}

{\bf LGSynth.}
LGSynth --- бенчмарк, разработанный для логического синтеза и оптимизации, использовался совместно с MCNC International Workshop. Тестируемые функции хранятся в файлах разрешений \texttt{*.pla}, \texttt{*.blif}, также к ним есть документация~\cite{benchmark}.

Основная масса функций из этого бенчмарка, появляющихся в статьях в качестве тестов, является multi-output. Примеры названий функций: \texttt{9sym} (single-output), \texttt{5xp1} (multi-output), \texttt{clip}.

{\bf Arithmetic functions.} Арифметические функции --- multi-output функции, опишем некоторые из них.\\
\texttt{adr}$ n $ --- $ n $-битный сумматор без входа для бита переноса.\\
\texttt{inc}$ n $ инкрементирует $ n $-битное число.\\
\texttt{wgt}$ n $ считает количество возведенных в единицу битов $ n $-битного числа.

В таблице \ref{table_arithmetic} формулами описаны используемые в тестах арифметические функции $ n $ переменных ($ A,\ B \in B^n $).

\begin{table}[h!]
\centering
\begin{tabular}{ |c||c|c||c|c|c|c|c| }
\hline
{\bf name}   & \texttt{\bf in} & \texttt{\bf out}       & {\bf function} \\
\hline\hline
\texttt{adr} & $ 2 n $ & $ n + 1 $                      & $ A + B $ \\
\hline
\texttt{inc} & $ n $   & $ n + 1 $                      & $ A + 1 $ \\
\hline
\texttt{log} & $ n $   & $ n $                          & $ \frac{2^n - 1}{n} \times \log_2 (A + 1) $ \\
\hline
\texttt{mlp} & $ 2 n $ & $ 2 n $                        & $ A \times B $ \\
\hline
\texttt{nrm} & $ 2 n $ & $ n + 1 $                      & $ \sqrt{A^2 + B^2} + 0.5 $ \\
\hline
\texttt{rdm} & $ n $   & $ n $                          & $ (5 A + 1) \mod 2^n $ \\
\hline
\texttt{rot} & $ n $   & $ \lceil n / 2 \rceil $        & $ \lfloor \sqrt{A} + 0.5 \rfloor $ \\
\hline
\texttt{sqr} & $ n $   & $ 2 n $                        & $ A^2 $ \\
\hline
\texttt{wgt} & $ n $   & $ \lceil \log_2 n \rceil + 1 $ & $ \sum\limits_{i = 1}^n a_i $ \\
\hline
\end{tabular}
\caption{Арифметические операции}
\label{table_arithmetic}
\end{table}

\subsubsection*{Некоторая выжимка}

В таблице \ref{table_benchmark} показаны некоторые результаты (количества конъюнктов по окончании работы алгоритма) минимизации функций опубликованными эвристическими алгоритмами.

\begin{table}[h!]
\centering
\begin{tabular}{ |c||c|c||c|c|c|c|c| }
\hline
{\bf benchmark} & \texttt{\bf in} & \texttt{\bf out} & {\sc EXORCISM4} & {\sc GRMIN2} & {\sc MINT} & {\sc EXMIN2} & \texttt{min-tau2} \\
\hline\hline
\texttt{9sym}   & 9  & 1  & 51 & 51 & 51 & 53 & – \\
\hline
\texttt{life}   & 9  & 1  & 48 & 49 & 51 & 54 & – \\
\hline
\texttt{ryy6}   & 16 & 1  & 40 & –  & 40 & 40 & – \\
\hline
\texttt{sym10}  & 10 & 1  & 79 & 82 & 82 & 84 & – \\
\hline\hline
\texttt{5xp1}   & 7  & 10 & 31 & 32 & 32 & 34 & – \\
\hline
\texttt{clip}   & 9  & 5  & 63 & 67 & 64 & 68 & – \\
\hline
\texttt{m181}   & 15 & 9  & 29 & 29 & 29 & 29 & – \\
\hline\hline
\texttt{adr4}   & 8  & 5  & –  & 31 & –  & –  & – \\
\hline
\texttt{log8}   & 8  & 8  & –  & 96 & –  & –  & – \\
\hline
\texttt{mlp3}   & 6  & 6  & –  & –  & –  & 18 & 18 \\
\hline
\texttt{sqrt8}  & 8  & 4  & 17 & –  & –  & –  & 17 \\
\hline
\texttt{inc8}   & 8  & 9  & –  & 15 & –  & –  & 15 \\
\hline
\end{tabular}
\caption{Результаты алгоритмов по минимизации обобщенных полиномов}
\label{table_benchmark}
\end{table}

В силу особенности алгоритма \texttt{min-tau2} для него были выбраны специфичные бенчмарки в оригинальной работе~\cite{min-tau2}, поэтому в таблице \ref{table_benchmark} стоит много прочерков для этого алгоритма. Приведем небольшую таблицу \ref{table_mintau} сравнения \texttt{min-tau2} с {\sc EXMIN2} на некоторых арифметических тестах.

\begin{table}[h!]
\centering
\begin{tabular}{ |c||c|c||c|c|c| }
\hline
{\bf benchmark} & \texttt{\bf in} & \texttt{\bf out} & \texttt{min-tau2} & {\sc EXMIN2} & \texttt{mt2} time [s] \\
\hline\hline
\texttt{nrm3} & 6 & 4 & 21 & 26 & 1047388.4 \\
\hline
\texttt{rot6} & 6 & 4 & 16 & 17 & 122.1     \\
\hline
\texttt{sqr4} & 4 & 8 & 11 & 15 & 583.3     \\
\hline\hline
\texttt{log4} & 4 & 4 & 10 & 10 & 0.24      \\
\hline
\texttt{inc6} & 6 & 7 & 11 & 11 & 0.20      \\
\hline
\texttt{rdm6} & 6 & 6 & 15 & 15 & 107065.6  \\
\hline
\end{tabular}
\caption{Некоторые результаты метода минимизации \texttt{min-tau2}}
\label{table_mintau}
\end{table}

Некоторые ученые также сравнивают быстродействия своих методов с уже опубликованными, среди представленных сильно выделяется в положительную сторону {\sc EXORCISM4}.

\subsection{Минимизация полиномов методом покоординатного спуска}

% результаты

\section{План дальнейших работ}

% планы

\begin{raggedright}
\addcontentsline{toc}{section}{Литература}
\begin{thebibliography}{99}
    \bibitem{exorcism4} Mishchenko~A., Perkowski~M. Fast heuristic minimization of exclusive-sums-of-products. – 2001.
    \bibitem{bound} Gaidukov~A. Algorihm to derive minimum ESOP for 6-variable function //5th International Workshop on Boolean Problems, Sept.~2002. – 2002.
    \bibitem{exact} Sasao~T. An exact minimization of AND-EXOR expressions using reduced covering functions //Proc. of the Synthesis and Simulation Meeting and International Interchange. – 1993. – С.~374-383.
    \bibitem{exmin2} Sasao~T. EXMIN2: A simplification algorithm for exclusive-OR-sum-of-products expressions for multiple-valued-input two-valued-output functions //IEEE Transactions on Computer-Aided Design of Integrated Circuits and Systems. – 1993. – Т.~12. – №.~5. – С.~621-632.
    \bibitem{mint} Kozlowski~T. Application of exclusive-OR logic in technology independent logic optimization //PhD Thesis, Bristol University. – 1996.
    \bibitem{benchmark} Yang~S. Logic synthesis and optimization benchmarks user guide: version 3.0. – Research Triangle Park, NC, USA : Microelectronics Center of North Carolina (MCNC), 1991. – С.~502-508.
    \bibitem{grmin2} Debnath~D., Sasao~T. GRMIN2: A heuristic simplification algorithm for generalised Reed-Muller expressions //IEE Proceedings-Computers and Digital Techniques. – 1996. – Т.~143. – №.~6. – С.~376-384.
    \bibitem{min-tau} Hirayama~T., Nishitani~Y., Sato~T. A faster algorithm of minimizing AND-EXOR expressions //IEICE transactions on fundamentals of electronics, communications and computer sciences. – 2002. – Т.~85. – №.~12. – С.~2708-2714.
    \bibitem{min-tau2} Hirayama~T., Nishitani~Y. Exact minimization of and-exor expressions of practical benchmark functions //Journal of Circuits, Systems, and Computers. – 2009. – Т.~18. – №.~03. – С.~465-486.
    \bibitem{arithmetic} Sasao~T. Multiple-valued logic and optimization of programmable logic arrays //Computer. – 1988. – Т.~21. – №.~4. – С.~71-80.
    \bibitem{psdrm} Sasao~T. AND-EXOR expressions and their optimization //Logic synthesis and optimization. – Springer, Boston, MA, 1993. – С.~287-312.
    \bibitem{convergence} Brand~D., Sasao~T. Minimization of AND-EXOR expressions using rewrite rules //IEEE Transactions on Computers. – 1993. – Т.~42. – №.~5. – С.~568-576.
\end{thebibliography}
\end{raggedright}

\end{document}
